#!/bin/bash

cd ~/Programs/chaste-source

/usr/bin/mpic++.openmpi -o projects/scaling_cartilage_sheets/apps/src/CartilageSheetSimulation.o -c -isystem /usr/lib/petscdir/3.4.2/linux-gnu-c-opt/include -isystem /usr/lib/petscdir/3.4.2/include -isystem /usr/include/metis/ -isystem /usr/include/vtk-5.8 -O3 -DCHASTE_SUNDIALS_VERSION=20500 -DCHASTE_VTK -DCHASTE_CVODE -DCHASTE_XERCES -DTRILIBRARY -DTETLIBRARY -DANSI_DECLARATORS -Iprojects/scaling_cartilage_sheets/apps/src -Iprojects/scaling_cartilage_sheets/build/optimised/src -Iprojects/scaling_cartilage_sheets/src -Iprojects/scaling_cartilage_sheets/build/optimised/src/cell -Iprojects/scaling_cartilage_sheets/src/cell -Iprojects/scaling_cartilage_sheets/build/optimised/src/cell/cycle -Iprojects/scaling_cartilage_sheets/src/cell/cycle -Iprojects/scaling_cartilage_sheets/build/optimised/src/cell/properties -Iprojects/scaling_cartilage_sheets/src/cell/properties -Iprojects/scaling_cartilage_sheets/build/optimised/src/cell/properties/tissue_types -Iprojects/scaling_cartilage_sheets/src/cell/properties/tissue_types -Iprojects/scaling_cartilage_sheets/build/optimised/src/cell/properties/division_directions -Iprojects/scaling_cartilage_sheets/src/cell/properties/division_directions -Iprojects/scaling_cartilage_sheets/build/optimised/src/population -Iprojects/scaling_cartilage_sheets/src/population -Iprojects/scaling_cartilage_sheets/build/optimised/src/population/force -Iprojects/scaling_cartilage_sheets/src/population/force -Iprojects/scaling_cartilage_sheets/build/optimised/src/simulation -Iprojects/scaling_cartilage_sheets/src/simulation -Iprojects/scaling_cartilage_sheets/build/optimised/src/writers -Iprojects/scaling_cartilage_sheets/src/writers -Iprojects/scaling_cartilage_sheets/build/optimised/test/cell -Iprojects/scaling_cartilage_sheets/test/cell -Iprojects/scaling_cartilage_sheets/build/optimised/test/population -Iprojects/scaling_cartilage_sheets/test/population -Iprojects/scaling_cartilage_sheets/build/optimised/test/simulation -Iprojects/scaling_cartilage_sheets/test/simulation -Iprojects/scaling_cartilage_sheets/build/optimised/test/writers -Iprojects/scaling_cartilage_sheets/test/writers -I. -Icxxtest -Icell_based/build/optimised/src -Icell_based/src -Icell_based/build/optimised/src/fortests -Icell_based/src/fortests -Icell_based/build/optimised/src/mesh -Icell_based/src/mesh -Icell_based/build/optimised/src/odes -Icell_based/src/odes -Icell_based/build/optimised/src/cell -Icell_based/src/cell -Icell_based/build/optimised/src/cell/srn -Icell_based/src/cell/srn -Icell_based/build/optimised/src/cell/cycle -Icell_based/src/cell/cycle -Icell_based/build/optimised/src/cell/properties -Icell_based/src/cell/properties -Icell_based/build/optimised/src/cell/properties/proliferative_types -Icell_based/src/cell/properties/proliferative_types -Icell_based/build/optimised/src/cell/properties/mutations -Icell_based/src/cell/properties/mutations -Icell_based/build/optimised/src/population -Icell_based/src/population -Icell_based/build/optimised/src/population/boundary_conditions -Icell_based/src/population/boundary_conditions -Icell_based/build/optimised/src/population/division_rules -Icell_based/src/population/division_rules -Icell_based/build/optimised/src/population/update_rules -Icell_based/src/population/update_rules -Icell_based/build/optimised/src/population/forces -Icell_based/src/population/forces -Icell_based/build/optimised/src/population/killers -Icell_based/src/population/killers -Icell_based/build/optimised/src/population/pdes -Icell_based/src/population/pdes -Icell_based/build/optimised/src/simulation -Icell_based/src/simulation -Icell_based/build/optimised/src/simulation/modifiers -Icell_based/src/simulation/modifiers -Icell_based/build/optimised/src/common -Icell_based/src/common -Icell_based/build/optimised/src/writers -Icell_based/src/writers -Icell_based/build/optimised/src/writers/cell_writers -Icell_based/src/writers/cell_writers -Icell_based/build/optimised/src/writers/population_count_writers -Icell_based/src/writers/population_count_writers -Icell_based/build/optimised/src/writers/population_writers -Icell_based/src/writers/population_writers -Ipde/build/optimised/src -Ipde/src -Ipde/build/optimised/src/postprocessing -Ipde/src/postprocessing -Ipde/build/optimised/src/solver -Ipde/src/solver -Ipde/build/optimised/src/problem -Ipde/src/problem -Ipde/build/optimised/src/common -Ipde/src/common -Imesh/build/optimised/src -Imesh/src -Imesh/build/optimised/src/vertex -Imesh/src/vertex -Imesh/build/optimised/src/writer -Imesh/src/writer -Imesh/build/optimised/src/reader -Imesh/src/reader -Imesh/build/optimised/src/utilities -Imesh/src/utilities -Imesh/build/optimised/src/mutable -Imesh/src/mutable -Imesh/build/optimised/src/3rdparty -Imesh/src/3rdparty -Imesh/build/optimised/src/3rdparty/tetgen1.4.2 -Imesh/src/3rdparty/tetgen1.4.2 -Imesh/build/optimised/src/3rdparty/triangle -Imesh/src/3rdparty/triangle -Imesh/build/optimised/src/common -Imesh/src/common -Iode/build/optimised/src -Iode/src -Iode/build/optimised/src/fortests -Iode/src/fortests -Iode/build/optimised/src/solver -Iode/src/solver -Iode/build/optimised/src/common -Iode/src/common -Iio/build/optimised/src -Iio/src -Iio/build/optimised/src/fortests -Iio/src/fortests -Iio/build/optimised/src/writer -Iio/src/writer -Iio/build/optimised/src/reader -Iio/src/reader -Iio/build/optimised/src/common -Iio/src/common -Ilinalg/build/optimised/src -Ilinalg/src -Iglobal/build/optimised/src -Iglobal/src -Iglobal/build/optimised/src/fortests -Iglobal/src/fortests -Iglobal/build/optimised/src/checkpointing -Iglobal/src/checkpointing -Iglobal/build/optimised/src/timing -Iglobal/src/timing -Iglobal/build/optimised/src/parallel -Iglobal/src/parallel projects/scaling_cartilage_sheets/apps/src/CartilageSheetSimulation.cpp

/usr/bin/mpic++.openmpi -o global/build/optimised/src/Version.os -c -isystem /usr/lib/petscdir/3.4.2/linux-gnu-c-opt/include -isystem /usr/lib/petscdir/3.4.2/include -isystem /usr/include/metis/ -isystem /usr/include/vtk-5.8 -O3 -fPIC -DCHASTE_SUNDIALS_VERSION=20500 -DCHASTE_VTK -DCHASTE_CVODE -DCHASTE_XERCES -DTRILIBRARY -DTETLIBRARY -DANSI_DECLARATORS -Iglobal/build/optimised/src -Iglobal/src -Iglobal/build/optimised/src/fortests -Iglobal/src/fortests -Iglobal/build/optimised/src/checkpointing -Iglobal/src/checkpointing -Iglobal/build/optimised/src/timing -Iglobal/src/timing -Iglobal/build/optimised/src/parallel -Iglobal/src/parallel -Iglobal/build/optimised/test -Iglobal/test -I. -Icxxtest global/build/optimised/src/Version.cpp

/usr/bin/mpic++.openmpi -o global/build/optimised/libglobal.so -shared global/build/optimised/src/PosixPathFixer.os global/build/optimised/src/LogFile.os global/build/optimised/src/Citations.os global/build/optimised/src/FileFinder.os global/build/optimised/src/ProgressReporter.os global/build/optimised/src/GetCurrentWorkingDirectory.os global/build/optimised/src/CommandLineArguments.os global/build/optimised/src/ExecutableSupport.os global/build/optimised/src/RandomNumberGenerator.os global/build/optimised/src/Exception.os global/build/optimised/src/Debug.os global/build/optimised/src/OutputFileHandler.os global/build/optimised/src/MathsCustomFunctions.os global/build/optimised/src/OutputDirectoryFifoQueue.os global/build/optimised/src/Warnings.os global/build/optimised/src/TimeStepper.os global/build/optimised/src/fortests/CommandLineArgumentsMocker.os global/build/optimised/src/fortests/PetscSetupUtils.os global/build/optimised/src/checkpointing/ArchiveOpener.os global/build/optimised/src/checkpointing/Identifiable.os global/build/optimised/src/checkpointing/ProcessSpecificArchive.os global/build/optimised/src/checkpointing/ArchiveLocationInfo.os global/build/optimised/src/timing/CellBasedEventHandler.os global/build/optimised/src/timing/HeartEventHandler.os global/build/optimised/src/timing/MechanicsEventHandler.os global/build/optimised/src/timing/Timer.os global/build/optimised/src/parallel/DistributedVectorException.os global/build/optimised/src/parallel/DistributedVectorFactory.os global/build/optimised/src/parallel/PetscException.os global/build/optimised/src/parallel/PetscTools.os global/build/optimised/src/parallel/DistributedVector.os global/build/optimised/src/parallel/ReplicatableVector.os global/build/optimised/src/Version.os global/build/optimised/src/ChasteBuildRoot.os

nm -g lib/libglobal.so | cut -c 12- | sort > global/build/optimised/global.if 

/usr/bin/mpic++.openmpi -o projects/scaling_cartilage_sheets/apps/src/CartilageSheetSimulation projects/scaling_cartilage_sheets/apps/src/CartilageSheetSimulation.o -Llinklib -L/usr/lib/petscdir/3.4.2/linux-gnu-c-opt/lib -Llib -lscaling_cartilage_sheets -lcell_based -lpde -lmesh -lode -lio -llinalg -lglobal -lpetsc -lX11 -lHYPRE -lspooles -lsuperlu -lumfpack -lamd -lHYPRE_utilities -lHYPRE_struct_mv -lHYPRE_struct_ls -lHYPRE_sstruct_mv -lHYPRE_sstruct_ls -lHYPRE_IJ_mv -lHYPRE_parcsr_ls -ldmumps -lscotch -lboost_serialization -lboost_filesystem -lboost_system -lxerces-c-3.1 -lhdf5 -lz -lparmetis -lmetis -lvtkIO -lvtkCommon -lvtkGraphics -lz -lvtkFiltering -lsundials_cvode -lsundials_nvecserial -llapack -lblas -ldl -lboost_program_options



